<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SQL Queries - apply filters</title>
<style>
  .button {
    display: inline-block;
    padding: 10px 20px;
    font-size: 16px;
    font-weight: bold;
    text-align: center;
    text-decoration: none;
    color: #fff;
    background-color: #888;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s;
  }
  .button:hover {
    background-color: #666;
  }
</style>
</head>
<body>
  <a href="../index.html" class="button">Home</a>
</body>
</html>
<br>
<br>
<br>


<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url(https://themes.googleusercontent.com/fonts/css?kit=Ry7ZpkCWHRNK4QK2VqZc1A);.lst-kix_a6vj0zikvhyg-8>li:before{content:"\0025a0   "}.lst-kix_a6vj0zikvhyg-6>li:before{content:"\0025cf   "}.lst-kix_a6vj0zikvhyg-5>li:before{content:"\0025a0   "}.lst-kix_a6vj0zikvhyg-7>li:before{content:"\0025cb   "}.lst-kix_a6vj0zikvhyg-2>li:before{content:"\0025a0   "}ul.lst-kix_a6vj0zikvhyg-3{list-style-type:none}ul.lst-kix_a6vj0zikvhyg-2{list-style-type:none}.lst-kix_a6vj0zikvhyg-1>li:before{content:"\0025cb   "}ul.lst-kix_a6vj0zikvhyg-1{list-style-type:none}.lst-kix_a6vj0zikvhyg-3>li:before{content:"\0025cf   "}ul.lst-kix_a6vj0zikvhyg-0{list-style-type:none}.lst-kix_a6vj0zikvhyg-0>li:before{content:"\0025cf   "}.lst-kix_a6vj0zikvhyg-4>li:before{content:"\0025cb   "}ul.lst-kix_a6vj0zikvhyg-8{list-style-type:none}ul.lst-kix_a6vj0zikvhyg-7{list-style-type:none}ul.lst-kix_a6vj0zikvhyg-6{list-style-type:none}ul.lst-kix_a6vj0zikvhyg-5{list-style-type:none}ul.lst-kix_a6vj0zikvhyg-4{list-style-type:none}ol{margin:0;padding:0}table td,table th{padding:0}.c7{padding-top:18pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left;height:16pt}.c1{background-color:#d9d9d9;color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Courier New";font-style:normal}.c4{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:16pt;font-family:"Google Sans";font-style:normal}.c2{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Google Sans";font-style:normal}.c3{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c8{padding-top:18pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c9{padding-top:20pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:center}.c0{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c12{color:#000000;text-decoration:none;vertical-align:baseline;font-size:20pt;font-style:normal}.c11{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c6{background-color:#d9d9d9;font-family:"Courier New";font-weight:400}.c10{font-weight:400;font-family:"Google Sans"}.c5{height:11pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c11 doc-content"><h1 class="c9" id="h.adnh333husy"><span class="c10 c12">Apply filters to SQL queries</span></h1><h2 class="c8" id="h.uakdmh2r7kug"><span class="c4">Project description</span></h2><p class="c0"><span class="c10">As a security professional at a large organization, I discovered some potential security issues that involve login attempts and employee machines at my organization. My task is to examine the organization&rsquo;s data in the</span><span class="c6">&nbsp;log_in_attempts</span><span class="c10">&nbsp;and </span><span class="c6">employees</span><span class="c2">&nbsp;tables. I&rsquo;ll be using SQL queries to retrieve records from the different datasets and investigate the potential security issue.</span></p><h2 class="c8" id="h.j19vqnsr688d"><span class="c4">Retrieve after hours failed login attempts</span></h2><p class="c0"><span class="c3">For a potential security incident that occurred after business hours, I&rsquo;ll be querying the log_in_attempts table to filter all failed login attempts that occurred after 18:00.</span></p><p class="c0 c5"><span class="c3"></span></p><p class="c0"><span class="c3">To do this I&rsquo;ll be using the following SQL query:</span></p><p class="c0"><span class="c1">SELECT *</span></p><p class="c0"><span class="c1">FROM log_in_attempts</span></p><p class="c0"><span class="c1">WHERE login_time &gt; &lsquo;18:00&rsquo; AND success = FALSE;</span></p><p class="c0 c5"><span class="c3"></span></p><p class="c0"><span>The first line </span><span class="c6">SELECT *</span><span class="c3">&nbsp;means that we&rsquo;re selecting all the fields in the table.</span></p><p class="c0"><span>The second line </span><span class="c6">FROM log_in_attempts</span><span>&nbsp;means that we&rsquo;re selecting the table </span><span class="c6">log_in_attempts</span><span class="c3">.</span></p><p class="c0"><span>The third line in the query is: </span><span class="c1">WHERE login_time &gt; &lsquo;18:00&rsquo; AND success = FALSE;</span></p><p class="c0"><span>It puts a condition for the query to show only the records for which the </span><span class="c6">login_time</span><span class="c3">&nbsp;is after 6 PM and the login attempt is not successful.</span></p><p class="c0 c5"><span class="c3"></span></p><p class="c0"><span>Here is the output after the execution of the command in the MariaDB shell:</span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 622.00px; height: 244.00px;"><img alt="" src="images/image1.png" style="width: 622.00px; height: 351.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0 c5"><span class="c2"></span></p><h2 class="c8" id="h.oox49ujy9cxg"><span class="c4">Retrieve login attempts on specific dates</span></h2><p class="c0"><span class="c3">For a suspicious event that occurred on 2022-05-09, a review of all login attempts that occurred on this day and the day before was needed. I used SQL to create a query to identify all login attempts that occurred on 2022-05-09 or 2022-05-08.</span></p><p class="c0 c5"><span class="c3"></span></p><p class="c0"><span class="c3">To do this the following SQL query was created:</span></p><p class="c0"><span class="c1">SELECT *</span></p><p class="c0"><span class="c1">FROM log_in_attempts</span></p><p class="c0"><span class="c1">WHERE login_date = &lsquo;2022-05-09&rsquo; OR login_date = &lsquo;2022-05-08&rsquo;;</span></p><p class="c0 c5"><span class="c3"></span></p><p class="c0"><span>The first line </span><span class="c6">SELECT *</span><span class="c3">&nbsp;means that we&rsquo;re asking it to return all the fields in the table.</span></p><p class="c0"><span>The second line </span><span class="c6">FROM log_in_attempts</span><span>&nbsp;means that we&rsquo;re selecting the </span><span class="c6">log_in_attempts</span><span class="c3">&nbsp;table as the table that we want to work with for this query.</span></p><p class="c0"><span>The third line is: </span><span class="c1">WHERE login_date = &lsquo;2022-05-09&rsquo; OR login_date = &lsquo;2022-05-08&rsquo;;</span></p><p class="c0"><span>This means that we&rsquo;re requesting the data for when the value of the</span><span>&nbsp;</span><span class="c6">login_date</span><span>&nbsp;field is either </span><span class="c6">&lsquo;2022-05-09&rsquo;</span><span>&nbsp;or </span><span class="c6">&lsquo;2022-05-08&rsquo;</span><span class="c3">.</span></p><p class="c0 c5"><span class="c3"></span></p><p class="c0"><span class="c3">Here is the output after the execution of the command in the MariaDB shell:</span></p><p class="c0 c5"><span class="c3"></span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 334.67px;"><img alt="" src="images/image3.png" style="width: 624.00px; height: 334.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0 c5"><span class="c2"></span></p><h2 class="c8" id="h.ij482iei0lry"><span class="c4">Retrieve login attempts outside of Mexico</span></h2><p class="c0"><span class="c3">Suspicious activity with login attempts was observed by the team that did not originate from Mexico. To investigate login attempts that occurred outside of Mexico, the following SQL query is created:</span></p><p class="c0"><span class="c1">SELECT *</span></p><p class="c0"><span class="c1">FROM log_in_attempts</span></p><p class="c0"><span class="c1">WHERE NOT country LIKE &lsquo;MEX%&rsquo;;</span></p><p class="c0 c5"><span class="c3"></span></p><p class="c0"><span>Here, to filter out the records outside Mexico, </span><span class="c6">WHERE NOT country LIKE &lsquo;MEX%&rsquo;;</span><span>&nbsp;is used. The condition </span><span class="c6">NOT</span><span>&nbsp;return records with countries that are not Mexico. </span><span class="c6">LIKE</span><span>&nbsp;is a SQL operator used to match with the keyword after it. </span><span class="c6">&lsquo;MEX%&rsquo;</span><span>&nbsp;means that the query won&rsquo;t return results that contain </span><span class="c6">&lsquo;MEX&rsquo;</span><span>&nbsp;or </span><span class="c6">&lsquo;MEXICO&rsquo;</span><span>&nbsp;in the </span><span class="c6">country</span><span class="c3">&nbsp;field.</span></p><p class="c0 c5"><span class="c3"></span></p><p class="c0"><span class="c3">Here is the output after the execution of the command in the MariaDB shell:</span></p><p class="c0 c5"><span class="c3"></span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 349.33px;"><img alt="" src="images/image2.png" style="width: 624.00px; height: 349.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0 c5"><span class="c2"></span></p><h2 class="c7" id="h.l3brzity349h"><span class="c4"></span></h2><h2 class="c7" id="h.2qk75kh2igd3"><span class="c4"></span></h2><h2 class="c8" id="h.kffkm7d57ava"><span class="c4">Retrieve employees in Marketing</span></h2><p class="c0"><span>To perform security updates on specific employee machines in the Marketing department, </span><span class="c6">employee</span><span class="c3">&nbsp;table was queried. To find all in the Marketing department in the East building, the following SQL query was created:</span></p><p class="c0"><span class="c1">SELECT *</span></p><p class="c0"><span class="c1">FROM employees</span></p><p class="c0"><span class="c1">WHERE department = &lsquo;Marketing&rsquo; AND office LIKE &lsquo;East%&rsquo;;</span></p><p class="c0 c5"><span class="c3"></span></p><p class="c0"><span class="c6">SELECT * FROM employees</span><span>&nbsp;selects all the fields on the </span><span class="c6">employees</span><span>&nbsp;table. Then, the condition is put to filter data from the table. </span><span class="c6">WHERE department = &lsquo;Marketing&rsquo; AND office LIKE &lsquo;East%&rsquo;;</span><span>&nbsp;means to return all the records for which department is </span><span class="c6">&lsquo;Marketing&rsquo;</span><span>&nbsp;and the value of the field office is </span><span class="c6">East-170</span><span>, </span><span class="c6">East-320</span><span class="c3">&nbsp;etc.</span></p><p class="c0 c5"><span class="c3"></span></p><p class="c0"><span class="c3">Here is the output after the execution of the command in the MariaDB shell:</span></p><p class="c0 c5"><span class="c3"></span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 300.00px;"><img alt="" src="images/image6.png" style="width: 624.00px; height: 300.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0 c5"><span class="c2"></span></p><h2 class="c7" id="h.ugdvxz1wl45n"><span class="c4"></span></h2><h2 class="c8" id="h.lfrxh2nnynwp"><span class="c4">Retrieve employees in Finance or Sales</span></h2><p class="c0"><span class="c3">To get data on the employees in the Sales and Finance department to perform a different security update, another SQL query is created:</span></p><p class="c0"><span class="c1">SELECT *</span></p><p class="c0"><span class="c1">FROM employees</span></p><p class="c0"><span class="c1">WHERE department = &lsquo;Finance&rsquo; OR department = &lsquo;Sales&rsquo;;</span></p><p class="c0 c5"><span class="c3"></span></p><p class="c0"><span>In this case, the conditions are </span><span class="c6">WHERE department = &lsquo;Finance&rsquo; OR department = &lsquo;Sales&rsquo;;</span><span>&nbsp;which means to return the records for which the </span><span class="c6">department</span><span>&nbsp;field&rsquo;s value is either </span><span class="c6">&lsquo;Finance&rsquo;</span><span>&nbsp;or </span><span class="c6">&lsquo;Sales&rsquo;</span><span class="c3">.</span></p><p class="c0 c5"><span class="c3"></span></p><p class="c0"><span class="c3">Here is the output after the execution of the command in the MariaDB shell:</span></p><p class="c0 c5"><span class="c3"></span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 316.00px;"><img alt="" src="images/image5.png" style="width: 624.00px; height: 316.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0 c5"><span class="c2"></span></p><h2 class="c7" id="h.jz2syd66gtxp"><span class="c4"></span></h2><h2 class="c7" id="h.9wa6atzavtwx"><span class="c4"></span></h2><h2 class="c8" id="h.pzhwo5g7pcpy"><span class="c4">Retrieve all employees not in IT</span></h2><p class="c0"><span class="c3">One more update to the employee machines is needed. But the employees who belong to the Information Technology department already had this update whereas employees in all other departments need it. Below SQL query is created to identify all employees not in the IT department:</span></p><p class="c0"><span class="c1">SELECT *</span></p><p class="c0"><span class="c1">FROM employees</span></p><p class="c0"><span class="c1">WHERE NOT department = &lsquo;Information Technology&rsquo;;</span></p><p class="c0 c5"><span class="c3"></span></p><p class="c0"><span>Here, the third line of the query describes the condition as </span><span class="c6">WHERE NOT department = &lsquo;Information Technology&rsquo;;</span><span>. The </span><span class="c6">NOT</span><span>&nbsp;operator means not to include the records on the output screen that contain </span><span class="c6">&lsquo;Information Technology&rsquo;</span><span>&nbsp;as the value of the </span><span class="c6">department</span><span class="c3">&nbsp;field.</span></p><p class="c0 c5"><span class="c3"></span></p><p class="c0"><span class="c3">Here is the output after the execution of the command in the MariaDB shell:</span></p><p class="c0 c5"><span class="c3"></span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 344.00px;"><img alt="" src="images/image4.png" style="width: 624.00px; height: 344.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0 c5"><span class="c2"></span></p><h2 class="c8" id="h.6z42dbgzl5pb"><span class="c4">Summary</span></h2><p class="c0"><span class="c10">Various security issues arose which required the need for filtering data from the </span><span class="c6">login_in_attempts</span><span class="c10">&nbsp;and the </span><span class="c6">employees</span><span class="c2">&nbsp;table. Using SQL queries to filter the data from these organization tables allowed for the retrieval of the necessary information in a safe and efficient manner.</span></p><p class="c0 c5"><span class="c2"></span></p></body></html>
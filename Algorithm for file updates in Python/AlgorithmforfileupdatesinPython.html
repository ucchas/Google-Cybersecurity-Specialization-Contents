<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>File update algorithm - Python</title>
<style>
  .button {
    display: inline-block;
    padding: 10px 20px;
    font-size: 16px;
    font-weight: bold;
    text-align: center;
    text-decoration: none;
    color: #fff;
    background-color: #888;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s;
  }
  .button:hover {
    background-color: #666;
  }
</style>
</head>
<body>
  <a href="../index.html" class="button">Home</a>
</body>
</html>
<br>
<br>
<br>


<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url(https://themes.googleusercontent.com/fonts/css?kit=4mNYFHt_IKFsPe52toizH4mR01TXY79of1zCqFsVTVk);.lst-kix_ixfh7h8rh82-0>li:before{content:"\0025cf   "}.lst-kix_ixfh7h8rh82-1>li:before{content:"\0025cb   "}.lst-kix_ixfh7h8rh82-2>li:before{content:"\0025a0   "}.lst-kix_ixfh7h8rh82-4>li:before{content:"\0025cb   "}ul.lst-kix_ixfh7h8rh82-4{list-style-type:none}ul.lst-kix_ixfh7h8rh82-3{list-style-type:none}.lst-kix_ixfh7h8rh82-3>li:before{content:"\0025cf   "}ul.lst-kix_ixfh7h8rh82-6{list-style-type:none}ul.lst-kix_ixfh7h8rh82-5{list-style-type:none}ul.lst-kix_ixfh7h8rh82-8{list-style-type:none}ul.lst-kix_ixfh7h8rh82-7{list-style-type:none}.lst-kix_ixfh7h8rh82-7>li:before{content:"\0025cb   "}.lst-kix_ixfh7h8rh82-8>li:before{content:"\0025a0   "}ul.lst-kix_ixfh7h8rh82-0{list-style-type:none}.lst-kix_ixfh7h8rh82-5>li:before{content:"\0025a0   "}.lst-kix_ixfh7h8rh82-6>li:before{content:"\0025cf   "}ul.lst-kix_ixfh7h8rh82-2{list-style-type:none}ul.lst-kix_ixfh7h8rh82-1{list-style-type:none}ol{margin:0;padding:0}table td,table th{padding:0}.c7{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;background-color:#333333;border-left-style:solid;border-bottom-width:0pt;width:468pt;border-top-color:#000000;border-bottom-style:solid}.c19{padding-top:20pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:center}.c9{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left;height:11pt}.c5{padding-top:18pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c10{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c4{color:#000000;text-decoration:none;vertical-align:baseline;font-size:16pt;font-style:normal}.c12{color:#000000;text-decoration:none;vertical-align:baseline;font-size:11pt;font-style:normal}.c20{color:#000000;text-decoration:none;vertical-align:baseline;font-size:20pt;font-style:normal}.c8{background-color:#333333;font-family:"Consolas";color:#888888;font-weight:400}.c13{padding-top:0pt;padding-bottom:0pt;line-height:1.15;text-align:left}.c2{background-color:#333333;font-family:"Consolas";color:#fcc28c;font-weight:400}.c14{border-spacing:0;border-collapse:collapse;margin-right:auto}.c3{background-color:#333333;font-family:"Consolas";color:#ffffff;font-weight:400}.c1{background-color:#333333;font-family:"Consolas";color:#a2fca2;font-weight:400}.c6{background-color:#cccccc;font-family:"Consolas";font-weight:400}.c16{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c18{font-weight:400;font-family:"Arial"}.c17{font-weight:400;font-family:"Consolas"}.c0{font-weight:400;font-family:"Google Sans"}.c11{height:0pt}.c15{background-color:#efefef}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c16 doc-content"><h1 class="c19" id="h.dooa9fyvnog2"><span class="c0 c20">Algorithm for file updates in Python</span></h1><h2 class="c5" id="h.uakdmh2r7kug"><span class="c4 c0">Project description</span></h2><p class="c10"><span class="c0">The task is to consistently update a file that specifies employees with access to restricted content, dependent on their involvement with personal patient records and restricted by IP addresses. The process involves managing an allow list for approved IP addresses and a remove list for employees who need to be excluded from the allow list. The assigned duty is to develop a Python algorithm to verify if any IP addresses from the remove list are present in the allow list, and if found, to eliminate them from the file holding the allow list.</span></p><h2 class="c5" id="h.qebvb1gjeclt"><span class="c0 c4">Open the file that contains the allow list</span></h2><a id="t.32fb2d16560a091565c27bd2ff9c0aeee4596adb"></a><a id="t.0"></a><table class="c14"><tr class="c11"><td class="c7" colspan="1" rowspan="1"><p class="c13"><span class="c8"># Assign `import_file` to the name of the file </span><span class="c3"><br><br>import_file = </span><span class="c1">&quot;allow_list.txt&quot;</span><span class="c3"><br><br></span><span class="c8"># Assign `remove_list` to a list of IP addresses that are no longer allowed to access restricted information. </span><span class="c3"><br><br>remove_list = [</span><span class="c1">&quot;192.168.97.225&quot;</span><span class="c3">, </span><span class="c1">&quot;192.168.158.170&quot;</span><span class="c3">, </span><span class="c1">&quot;192.168.201.40&quot;</span><span class="c3">, </span><span class="c1">&quot;192.168.58.57&quot;</span><span class="c3">]<br><br></span><span class="c8"># First line of `with` statement</span><span class="c3"><br><br></span><span class="c2">with</span><span class="c3">&nbsp;open(import_file, </span><span class="c1">&quot;r&quot;</span><span class="c3">) </span><span class="c2">as</span><span class="c3">&nbsp;file:</span></p></td></tr></table><p class="c9"><span class="c12 c0"></span></p><p class="c10"><span class="c0">The file name here is </span><span class="c6">allow_list.txt</span><span class="c0">. The </span><span class="c6">remove_list</span><span class="c0">&nbsp;is the list of the ip addresses that needs to be removed. The file is opened using </span><span class="c6">with</span><span class="c0">&nbsp;and the variable </span><span class="c6">file</span><span class="c12 c0">.</span></p><h2 class="c5" id="h.d6t1z8vtmbx5"><span class="c4 c0">Read the file contents</span></h2><a id="t.4c1e3e12ff7553d6a257613c443f309feef08fe9"></a><a id="t.1"></a><table class="c14"><tr class="c11"><td class="c7" colspan="1" rowspan="1"><p class="c13"><span class="c8"># Assign `import_file` to the name of the file </span><span class="c3"><br><br>import_file = </span><span class="c1">&quot;allow_list.txt&quot;</span><span class="c3"><br><br></span><span class="c8"># Assign `remove_list` to a list of IP addresses that are no longer allowed to access restricted information. </span><span class="c3"><br><br>remove_list = [</span><span class="c1">&quot;192.168.97.225&quot;</span><span class="c3">, </span><span class="c1">&quot;192.168.158.170&quot;</span><span class="c3">, </span><span class="c1">&quot;192.168.201.40&quot;</span><span class="c3">, </span><span class="c1">&quot;192.168.58.57&quot;</span><span class="c3">]<br><br></span><span class="c8"># Build `with` statement to read in the initial contents of the file</span><span class="c3"><br><br></span><span class="c2">with</span><span class="c3">&nbsp;open(import_file, </span><span class="c1">&quot;r&quot;</span><span class="c3">) </span><span class="c2">as</span><span class="c3">&nbsp;file:<br><br> &nbsp;</span><span class="c8"># Use `.read()` to read the imported file and store it in a variable named `ip_addresses`</span><span class="c3"><br><br> &nbsp;ip_addresses = file.read()<br><br></span><span class="c8"># Display `ip_addresses`</span><span class="c3"><br><br>print(ip_addresses)</span></p></td></tr></table><p class="c9"><span class="c12 c0"></span></p><p class="c10"><span class="c0">Then the file contents are read from the file and stored in a string </span><span class="c6">ip_addresses</span><span class="c0">. The </span><span class="c6">ip_addresses</span><span class="c0">&nbsp;string is shown at this stage using the </span><span class="c6">print()</span><span class="c0">&nbsp;function.</span></p><h2 class="c5" id="h.j19vqnsr688d"><span class="c0">Convert the string into a list</span></h2><a id="t.80843c1c29361a0eaccf8464088d14f2d4be478d"></a><a id="t.2"></a><table class="c14"><tr class="c11"><td class="c7" colspan="1" rowspan="1"><p class="c13"><span class="c8"># Assign `import_file` to the name of the file </span><span class="c3"><br><br>import_file = </span><span class="c1">&quot;allow_list.txt&quot;</span><span class="c3"><br><br></span><span class="c8"># Assign `remove_list` to a list of IP addresses that are no longer allowed to access restricted information. </span><span class="c3"><br><br>remove_list = [</span><span class="c1">&quot;192.168.97.225&quot;</span><span class="c3">, </span><span class="c1">&quot;192.168.158.170&quot;</span><span class="c3">, </span><span class="c1">&quot;192.168.201.40&quot;</span><span class="c3">, </span><span class="c1">&quot;192.168.58.57&quot;</span><span class="c3">]<br><br></span><span class="c8"># Build `with` statement to read in the initial contents of the file</span><span class="c3"><br><br></span><span class="c2">with</span><span class="c3">&nbsp;open(import_file, </span><span class="c1">&quot;r&quot;</span><span class="c3">) </span><span class="c2">as</span><span class="c3">&nbsp;file:<br><br> &nbsp;</span><span class="c8"># Use `.read()` to read the imported file and store it in a variable named `ip_addresses`</span><span class="c3"><br><br> &nbsp;ip_addresses = file.read()<br><br></span><span class="c8"># Use `.split()` to convert `ip_addresses` from a string to a list</span><span class="c3"><br><br>ip_addresses = ip_addresses.split()<br><br></span><span class="c8"># Display `ip_addresses`</span><span class="c3"><br><br>print(ip_addresses)</span></p></td></tr></table><p class="c9"><span class="c0 c12"></span></p><p class="c10"><span class="c0">Here the string </span><span class="c6">ip_addresses</span><span class="c0">&nbsp;is not converted into a list using the </span><span class="c6">.split()</span><span class="c0">&nbsp;method. The resulting </span><span class="c6">ip_addresses</span><span class="c12 c0">&nbsp;list is displayed.</span></p><h2 class="c5" id="h.oox49ujy9cxg"><span class="c0">Iterate through the remove list</span></h2><a id="t.813f9c346c7320899a651b6dc046a454119c392c"></a><a id="t.3"></a><table class="c14"><tr class="c11"><td class="c7" colspan="1" rowspan="1"><p class="c13"><span class="c8"># Assign `import_file` to the name of the file </span><span class="c3"><br><br>import_file = </span><span class="c1">&quot;allow_list.txt&quot;</span><span class="c3"><br><br></span><span class="c8"># Assign `remove_list` to a list of IP addresses that are no longer allowed to access restricted information. </span><span class="c3"><br><br>remove_list = [</span><span class="c1">&quot;192.168.97.225&quot;</span><span class="c3">, </span><span class="c1">&quot;192.168.158.170&quot;</span><span class="c3">, </span><span class="c1">&quot;192.168.201.40&quot;</span><span class="c3">, </span><span class="c1">&quot;192.168.58.57&quot;</span><span class="c3">]<br><br></span><span class="c8"># Build `with` statement to read in the initial contents of the file</span><span class="c3"><br><br></span><span class="c2">with</span><span class="c3">&nbsp;open(import_file, </span><span class="c1">&quot;r&quot;</span><span class="c3">) </span><span class="c2">as</span><span class="c3">&nbsp;file:<br><br> &nbsp;</span><span class="c8"># Use `.read()` to read the imported file and store it in a variable named `ip_addresses`</span><span class="c3"><br><br> &nbsp;ip_addresses = file.read()<br><br></span><span class="c8"># Use `.split()` to convert `ip_addresses` from a string to a list</span><span class="c3"><br><br>ip_addresses = ip_addresses.split()<br><br></span><span class="c8"># Build iterative statement</span><span class="c3"><br></span><span class="c8"># Name loop variable `element`</span><span class="c3"><br></span><span class="c8"># Loop through `remove_list`</span><span class="c3"><br><br></span><span class="c2">for</span><span class="c3">&nbsp;element </span><span class="c2">in</span><span class="c3">&nbsp;remove_list:<br><br> &nbsp; &nbsp;</span><span class="c8"># Display `element` in every iteration</span><span class="c3"><br><br> &nbsp; &nbsp;print(element)</span></p></td></tr></table><p class="c9"><span class="c12 c0"></span></p><p class="c10"><span class="c0">The </span><span class="c6">remove_list</span><span class="c0">&nbsp;is taken and at every iteration each element from the </span><span class="c6">remove_list</span><span class="c12 c0">&nbsp;is displayed.</span></p><h2 class="c5" id="h.hlvxfnrcmi7p"><span class="c0">Remove IP addresses that are on the remove list</span></h2><p class="c9"><span class="c12 c0"></span></p><a id="t.a9d6484336a85ff4453a530149bdc67d56418bcb"></a><a id="t.4"></a><table class="c14"><tr class="c11"><td class="c7" colspan="1" rowspan="1"><p class="c13"><span class="c8"># Assign `import_file` to the name of the file </span><span class="c3"><br><br>import_file = </span><span class="c1">&quot;allow_list.txt&quot;</span><span class="c3"><br><br></span><span class="c8"># Assign `remove_list` to a list of IP addresses that are no longer allowed to access restricted information. </span><span class="c3"><br><br>remove_list = [</span><span class="c1">&quot;192.168.97.225&quot;</span><span class="c3">, </span><span class="c1">&quot;192.168.158.170&quot;</span><span class="c3">, </span><span class="c1">&quot;192.168.201.40&quot;</span><span class="c3">, </span><span class="c1">&quot;192.168.58.57&quot;</span><span class="c3">]<br><br></span><span class="c8"># Build `with` statement to read in the initial contents of the file</span><span class="c3"><br><br></span><span class="c2">with</span><span class="c3">&nbsp;open(import_file, </span><span class="c1">&quot;r&quot;</span><span class="c3">) </span><span class="c2">as</span><span class="c3">&nbsp;file:<br><br> &nbsp;</span><span class="c8"># Use `.read()` to read the imported file and store it in a variable named `ip_addresses`</span><span class="c3"><br><br> &nbsp;ip_addresses = file.read()<br><br></span><span class="c8"># Use `.split()` to convert `ip_addresses` from a string to a list</span><span class="c3"><br><br>ip_addresses = ip_addresses.split()<br><br></span><span class="c8"># Build iterative statement</span><span class="c3"><br></span><span class="c8"># Name loop variable `element`</span><span class="c3"><br></span><span class="c8"># Loop through `ip_addresses`</span><span class="c3"><br><br></span><span class="c2">for</span><span class="c3">&nbsp;element </span><span class="c2">in</span><span class="c3">&nbsp;ip_addresses:<br> &nbsp;<br> &nbsp;</span><span class="c8"># Build conditional statement</span><span class="c3"><br> &nbsp;</span><span class="c8"># If current element is in `remove_list`,</span><span class="c3"><br> &nbsp;<br> &nbsp; &nbsp;</span><span class="c2">if</span><span class="c3">&nbsp;element </span><span class="c2">in</span><span class="c3">&nbsp;remove_list:<br><br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c8"># then current element should be removed from `ip_addresses`</span><span class="c3"><br><br> &nbsp; &nbsp; &nbsp; &nbsp;ip_addresses.remove(element)<br><br></span><span class="c8"># Display `ip_addresses` </span><span class="c3"><br>print(ip_addresses)</span></p></td></tr></table><p class="c9"><span class="c12 c0"></span></p><p class="c10"><span class="c0">A conditional is added inside the iterative loop instead of the </span><span class="c6">print()</span><span class="c0">&nbsp;function. The condition is that if an element is found in the </span><span class="c6">remove_list</span><span class="c0">&nbsp;the element is removed from the </span><span class="c6">ip_addresses</span><span class="c0">&nbsp;list.</span></p><h2 class="c5" id="h.ij482iei0lry"><span class="c0">Update the file with the revised list of IP addresses </span></h2><a id="t.8830fdd2535171a04b761cfd9a9441200601da0f"></a><a id="t.5"></a><table class="c14"><tr class="c11"><td class="c7" colspan="1" rowspan="1"><p class="c13"><span class="c8"># Assign `import_file` to the name of the file </span><span class="c3"><br><br>import_file = </span><span class="c1">&quot;allow_list.txt&quot;</span><span class="c3"><br><br></span><span class="c8"># Assign `remove_list` to a list of IP addresses that are no longer allowed to access restricted information. </span><span class="c3"><br><br>remove_list = [</span><span class="c1">&quot;192.168.97.225&quot;</span><span class="c3">, </span><span class="c1">&quot;192.168.158.170&quot;</span><span class="c3">, </span><span class="c1">&quot;192.168.201.40&quot;</span><span class="c3">, </span><span class="c1">&quot;192.168.58.57&quot;</span><span class="c3">]<br><br></span><span class="c8"># Build `with` statement to read in the initial contents of the file</span><span class="c3"><br><br></span><span class="c2">with</span><span class="c3">&nbsp;open(import_file, </span><span class="c1">&quot;r&quot;</span><span class="c3">) </span><span class="c2">as</span><span class="c3">&nbsp;file:<br><br> &nbsp;</span><span class="c8"># Use `.read()` to read the imported file and store it in a variable named `ip_addresses`</span><span class="c3"><br><br> &nbsp;ip_addresses = file.read()<br><br></span><span class="c8"># Use `.split()` to convert `ip_addresses` from a string to a list</span><span class="c3"><br><br>ip_addresses = ip_addresses.split()<br><br></span><span class="c8"># Build iterative statement</span><span class="c3"><br></span><span class="c8"># Name loop variable `element`</span><span class="c3"><br></span><span class="c8"># Loop through `ip_addresses`</span><span class="c3"><br><br></span><span class="c2">for</span><span class="c3">&nbsp;element </span><span class="c2">in</span><span class="c3">&nbsp;ip_addresses:<br> &nbsp;<br> &nbsp;</span><span class="c8"># Build conditional statement</span><span class="c3"><br> &nbsp;</span><span class="c8"># If current element is in `remove_list`,</span><span class="c3"><br> &nbsp;<br> &nbsp; &nbsp;</span><span class="c2">if</span><span class="c3">&nbsp;element </span><span class="c2">in</span><span class="c3">&nbsp;remove_list:<br><br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c8"># then current element should be removed from `ip_addresses`</span><span class="c3"><br><br> &nbsp; &nbsp; &nbsp; &nbsp;ip_addresses.remove(element)<br><br></span><span class="c8"># Convert `ip_addresses` back to a string so that it can be written into the text file </span><span class="c3"><br><br>ip_addresses = </span><span class="c1">&quot;\n&quot;</span><span class="c3">.join(ip_addresses) &nbsp; &nbsp;<br><br></span><span class="c8"># Build `with` statement to rewrite the original file</span><span class="c3"><br><br></span><span class="c2">with</span><span class="c3">&nbsp;open(import_file, </span><span class="c1">&quot;w&quot;</span><span class="c3">) </span><span class="c2">as</span><span class="c3">&nbsp;file:<br><br> &nbsp;</span><span class="c8"># Rewrite the file, replacing its contents with `ip_addresses`</span><span class="c3"><br><br> &nbsp;file.write(ip_addresses)</span></p></td></tr></table><p class="c9"><span class="c12 c0"></span></p><p class="c10"><span class="c0">The final contents in the </span><span class="c6">ip_addresses</span><span class="c0">&nbsp;list is now fed into the </span><span class="c6">import_file</span><span class="c0">&nbsp;which was </span><span class="c6">allow_list.txt</span><span class="c0">. </span><span class="c6">.join()</span><span class="c0">&nbsp;method is used to format the </span><span class="c6">ip_addresses</span><span class="c0">&nbsp;list into a string with each data of the list separated by a newline(</span><span class="c6">\n</span><span class="c0">) character. The string </span><span class="c6">ip_addresses</span><span class="c0">&nbsp;is now written into the original </span><span class="c6">import_file</span><span class="c12 c0">&nbsp;replacing its old content and rewriting the data as a whole.</span></p><h2 class="c5" id="h.6z42dbgzl5pb"><span class="c4 c0">Summary</span></h2><p class="c10"><span class="c0">The code can be incorporated into a function like </span><span class="c6">update_list</span><span class="c17">&nbsp;</span><span class="c12 c0">and used to automate the updation of an access log file in any cybersecurity context.</span></p><p class="c9"><span class="c12 c0"></span></p><p class="c10"><span class="c0">This simple project is done with the intention of learning about the use of python to update or modify access log files or any other type of </span><span class="c6">.txt</span><span class="c0">, </span><span class="c6">.csv</span><span class="c12 c0">&nbsp;files in a cybersecurity environment.</span></p><p class="c9"><span class="c12 c18"></span></p></body></html>